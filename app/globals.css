@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* 应用级无衬线字体栈（英文 Tiempos + 中文苹方 + 系统回退）
     这里用 next/font/local 提供的变量，保证走打包后的字体 family 名称 */
  --font-app-sans: "Tiempos Text", "TiemposText", var(--font-tiempos),
    "PingFang SC", "PingFangSC", var(--font-pingfang),
    system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;

  /* 品牌橙色体系，保持高级柔和 */
  --primary-muted: #ffe8d1;
  --primary-main: #f3a25e;
  --primary-strong: #ea8342;
  --primary-deep: #c46226;
  --primary-focus: rgba(243, 162, 94, 0.45);
  --primary-shadow: rgba(236, 131, 65, 0.28);
  --primary-gradient-start: #fff2e3;
  --primary-gradient-mid: #f8c18e;
  --primary-gradient-end: #eb8140;

  /* 温润辅助色系 */
  --tone-chip-bg: #f7ede2;
  --tone-chip-text: #9a6a3a;

  --tone-info-bg: #f5f0ea;
  --tone-info-border: #e4d7ca;
  --tone-info-text: #7a5940;
  --tone-info-strong: #d99c6b;

  --tone-success-bg: #edf3f0;
  --tone-success-border: #d3e4d7;
  --tone-success-text: #396851;
  --tone-success-strong: #4f8b6b;

  --tone-danger-bg: #fbefed;
  --tone-danger-border: #f3cfc7;
  --tone-danger-text: #b4513f;
  --tone-danger-strong: #ce6a55;

  --tone-neutral-bg: #f3eee8;
  --tone-neutral-border: #e0d4c8;
  --tone-neutral-text: #5c4b3c;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Tailwind 的 sans/mono 变量映射到我们自己的字体 */
  --font-sans: var(--font-app-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-app-sans);
}

/* Hide scrollbar utility class */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.tone-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  background: var(--tone-chip-bg);
  color: var(--tone-chip-text);
  font-weight: 600;
}

.tone-card {
  border-radius: 0.75rem;
  border: 1px solid transparent;
  padding: 0.75rem 1rem;
  background: var(--tone-neutral-bg);
  border-color: var(--tone-neutral-border);
  color: var(--tone-neutral-text);
}

.tone-card--info {
  background: var(--tone-info-bg);
  border-color: var(--tone-info-border);
  color: var(--tone-info-text);
}

.tone-card--success {
  background: var(--tone-success-bg);
  border-color: var(--tone-success-border);
  color: var(--tone-success-text);
}

.tone-card--danger {
  background: var(--tone-danger-bg);
  border-color: var(--tone-danger-border);
  color: var(--tone-danger-text);
}

.tone-button {
  border-radius: 9999px;
  padding: 0.5rem 1.25rem;
  font-weight: 600;
  transition: background 150ms ease, box-shadow 150ms ease;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
}

.tone-button--primary {
  background: linear-gradient(
    120deg,
    var(--primary-gradient-start),
    var(--primary-gradient-end)
  );
  color: white;
}

.tone-button--primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  box-shadow: none;
}

.tone-button--danger {
  background: var(--tone-danger-strong);
  color: white;
}

.tone-button--ghost {
  background: transparent;
  border: 1px solid var(--tone-neutral-border);
  color: var(--tone-neutral-text);
  box-shadow: none;
}

/* ----------------------------- */
/* Excalidraw theming overrides  */
/* ----------------------------- */

.excalidraw {
  --excalidraw-primary-text: #ffffff;
}

/* Shared typography for Excalidraw UI chrome */
.excalidraw .layer-ui__wrapper,
.excalidraw .layer-ui__wrapper * {
  font-family: var(--font-app-sans);
}

.excalidraw button.ToolIcon_type_button {
  border-radius: 12px;
  border-color: transparent;
  background: #ffffff;
  color: #1f2937;
  transition: background 0.15s ease, box-shadow 0.15s ease, color 0.15s ease;
}

.excalidraw button.ToolIcon_type_button svg {
  color: inherit;
}

.excalidraw button[aria-pressed="true"],
.excalidraw button[aria-expanded="true"],
.excalidraw .layer-ui__wrapper button.ToolIcon_type_button:hover,
.excalidraw .layer-ui__wrapper button.ToolIcon_type_button:focus-visible {
  background: linear-gradient(
    125deg,
    var(--primary-gradient-start),
    var(--primary-gradient-mid),
    var(--primary-gradient-end)
  );
  color: var(--excalidraw-primary-text);
  box-shadow: 0 10px 26px var(--primary-shadow);
}

.excalidraw button[aria-pressed="true"] svg,
.excalidraw button[aria-expanded="true"] svg,
.excalidraw .layer-ui__wrapper button.ToolIcon_type_button:hover svg {
  color: #ffffff;
}

.excalidraw .layer-ui__wrapper__library,
.excalidraw .layer-ui__wrapper__library .Stack,
.excalidraw .library-menu-title,
.excalidraw .library-menu-help,
.excalidraw .library-actions,
.excalidraw .LibraryMenu__list-item {
  font-family: var(--font-app-sans);
  color: var(--primary-deep);
}

.excalidraw .layer-ui__wrapper__library .ToolIcon_type_button,
.excalidraw .layer-ui__wrapper__library button,
.excalidraw .library-actions button,
.excalidraw .LibraryMenu__list-item button,
.excalidraw .layer-ui__wrapper__sidebar button[data-testid="library-menu-button"] {
  border-radius: 10px;
  background: linear-gradient(
    135deg,
    rgba(255, 242, 227, 0.95),
    rgba(243, 162, 94, 0.92)
  );
  color: #ffffff;
  border: none;
  box-shadow: 0 16px 30px rgba(234, 131, 66, 0.28);
  font-weight: 600;
  letter-spacing: 0.01em;
}

.excalidraw .layer-ui__wrapper__library button:hover,
.excalidraw .library-actions button:hover,
.excalidraw .LibraryMenu__list-item button:hover {
  background: linear-gradient(
    135deg,
    rgba(248, 193, 142, 0.95),
    rgba(235, 129, 64, 0.95)
  );
}

.excalidraw .layer-ui__wrapper__library button:disabled,
.excalidraw .library-actions button:disabled,
.excalidraw .LibraryMenu__list-item button:disabled {
  background: var(--primary-muted);
  color: rgba(181, 130, 90, 0.9);
  box-shadow: none;
}

.excalidraw .library-menu-title {
  font-size: 0.85rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

.excalidraw .library-menu-help {
  font-size: 0.75rem;
  color: rgba(118, 88, 60, 0.9);
}

/* Font choice specific overrides for inline editors */
.excalidraw .excalidraw-textEditor textarea,
.excalidraw .excalidraw-textEditor input {
  font-family: var(--font-app-sans);
}
